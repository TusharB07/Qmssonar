<div class="card modal-body" *ngIf="this.permissions.includes('read')">
    <form class="" [formGroup]="moneyInTransitForm" (ngSubmit)="this.submitMoneyInTransitForm()" #$form="ngForm">
        <div class="grid mb-5">
            <div class="col-12 md:col-6 mb-1 md:mb-5">
                <label for="" id="MoneyInTransit_Dialog_transitFrom_label" class="form-label">Transit From</label>
                <input maxlength="255" pInputText id="MoneyInTransit_Dialog_transitFrom" formControlName="transitFrom"
                    value="" type="text" class="p-inputtext1" *ngIf="this.permissions.includes('update')">
                <input maxlength="255" pInputText id="MoneyInTransit_Dialog_transitFrom" formControlName="transitFrom"
                    value="" type="text" class="p-inputtext1" *ngIf="!this.permissions.includes('update')" disabled>
                <small class="ng-dirty ng-invalid" id="MoneyInTransit_Dialog_transitFrom_ValidationError"
                    *ngIf="submitted && moneyInTransitForm.controls['transitFrom']?.errors?.required">Transit form is
                    required.</small>
                <!-- <small class="ng-dirty ng-invalid" id="MoneyInTransit_Dialog_transitFrom_ValidationError" *ngIf="moneyInTransitForm.controls['transitFrom']?.errors?.maxlength">Transit form is cannot be more than 255 Characters.</small> -->
            </div>
            <div class="col-12 md:col-6 mb-1 md:mb-5">
                <label for="" id="MoneyInTransit_Dialog_transitTo_label" class="form-label">Transit To</label>
                <input maxlength="255" pInputText id="MoneyInTransit_Dialog_transitTo" formControlName="transitTo"
                    value="" type="text" class="p-inputtext1" *ngIf="this.permissions.includes('update')">
                <input maxlength="255" pInputText id="MoneyInTransit_Dialog_transitTo" formControlName="transitTo"
                    value="" type="text" class="p-inputtext1" *ngIf="!this.permissions.includes('update')" disabled>
                <small class="ng-dirty ng-invalid" id="MoneyInTransit_Dialog_transitTo_ValidationError"
                    *ngIf="submitted && moneyInTransitForm.controls['transitTo']?.errors?.required">Transit To is
                    required.</small>
                <!-- <small class="ng-dirty ng-invalid" id="MoneyInTransit_Dialog_transitTo_ValidationError" *ngIf="moneyInTransitForm.controls['transitTo']?.errors?.maxlength">Transit To is cannot be more than 255 Characters.</small> -->
            </div>
            <div class="col-12 md:col-6 mb-1 md:mb-5" tooltipPosition="bottom"
                pTooltip="{{moneyInTransitForm.controls['singleCarryingLimit'].value && this.toWords.convert((moneyInTransitForm.controls['singleCarryingLimit'].value ?? 0), { currency: true ,ignoreZeroCurrency: true })}}">
                <label for="" id="MoneyInTransit_Dialog_SingleCarryingLimit_label" class="form-label">Single Carrying
                    Limit</label>
                <!-- TO GET THE COUNT OF VALUES IN RUPEES INSTEAD OF MILLIONS -->
                <p-inputNumber id="MoneyInTransit_Dialog_SingleCarryingLimit_ValidationError" mode="decimal"
                    locale="en-IN" prefix="₹ " [minFractionDigits]="0" placeholder="0"
                    formControlName="singleCarryingLimit" [disabled]="!this.permissions.includes('update')"
                    maxlength="21"
                    [ngClass]="{'ng-invalid ng-dirty': $form.submitted && moneyInTransitForm.controls['singleCarryingLimit']?.errors?.required}">
                </p-inputNumber>
                <!-- <input maxlength="11" pInputText id="MoneyInTransit_Dialog_SingleCarryingLimit" formControlName="singleCarryingLimit" placeholder="" value=""  currencyMask *ngIf="this.permissions.includes('update')" [options]="{ prefix: '₹ ' , precision:0 }"  class="p-inputtext1">
                <input maxlength="11" pInputText id="MoneyInTransit_Dialog_SingleCarryingLimit" formControlName="singleCarryingLimit" placeholder="" value=""  currencyMask *ngIf="!this.permissions.includes('update')" disabled [options]="{ prefix: '₹ ' , precision:0 }"  class="p-inputtext1"> -->
                <small class="ng-dirty ng-invalid" id="MoneyInTransit_Dialog_SingleCarryingLimit_ValidationError"
                    *ngIf="$form.submitted && moneyInTransitForm.controls['singleCarryingLimit']?.errors?.required">Single
                    Carry Limit is required.</small>
                <small class="ng-dirty ng-invalid" id="MoneyInTransit_Dialog_SingleCarryingLimit_ValidationError"
                    *ngIf="$form.submitted && moneyInTransitForm.controls['singleCarryingLimit']?.errors?.min">Single
                    Carry Limit should be greater than 1</small>
                <small style="color :brown;font-style: italic;">Range for SI is {{min}} - {{max}}</small><br>
                <small style="color :brown;font-style: italic;">NSTP Range for SI is {{minNSTP}} - {{maxNSTP}}</small>
            </div>
            <!-- <input maxlength="11" pInputText id="MoneyInTransit_Dialog_AnnualTurnover"  formControlName="annualTurnover" placeholder="" value="" *ngIf="this.permissions.includes('update')" currencyMask  [options]="{ prefix: '₹ ' , precision:0 }"  class="p-inputtext1">
            <input maxlength="11" pInputText id="MoneyInTransit_Dialog_AnnualTurnover"  formControlName="annualTurnover" placeholder="" value="" *ngIf="!this.permissions.includes('update')" disabled currencyMask  [options]="{ prefix: '₹ ' , precision:0 }"  class="p-inputtext1"> -->
            <!-- TO GET THE COUNT OF VALUES IN RUPEES INSTEAD OF MILLIONS -->
            <!-- <div class="col-6 mb-5" tooltipPosition="bottom"
                pTooltip="{{moneyInTransitForm.controls['annualTurnover'].value && this.toWords.convert((moneyInTransitForm.controls['annualTurnover'].value ?? 0), { currency: true ,ignoreZeroCurrency: true })}}">
                <label for="" id="MoneyInTransit_Dialog_AnnualTurnover_label" class="form-label">Annual Turnover</label>
                <p-inputNumber id="MoneyInTransit_Dialog_AnnualTurnover_label" mode="decimal" locale="en-IN" prefix="₹ "
                    [minFractionDigits]="0" placeholder="0" formControlName="annualTurnover"
                    [disabled]="!this.permissions.includes('update')" maxlength="21"
                    [ngClass]="{'ng-invalid ng-dirty': $form.submitted && moneyInTransitForm.controls['annualTurnover']?.errors?.required}">
                </p-inputNumber>
                <small class="ng-dirty ng-invalid" id="MoneyInTransit_Dialog_AnnualTurnover_ValidationError"
                    *ngIf="$form.submitted && moneyInTransitForm.controls['annualTurnover']?.errors?.required">Annual
                    Turnover is required.</small>
                <small class="ng-dirty ng-invalid" id="MoneyInTransit_Dialog_AnnualTurnover_ValidationError"
                    *ngIf="$form.submitted && moneyInTransitForm.controls['annualTurnover']?.errors?.min">Annual
                    Turnover should be greater than 1.</small>
            </div>-->
            <div class="md:col-6 md:mb-5"></div>

            <div class="col-12 md:col-6 mb-1 md:mb-5"
                *ngIf="!moneyInTransitForm.value['fileInput'] || (moneyInTransitForm.value['fileInput'] && isFile(moneyInTransitForm.value['fileInput']))">
                <label for="" id="PortableEquipments_Dialog_SumInsured_label" class="form-label">File</label>
                <input style="display: none;" type="text" formControlName="fileInput">
                <p-fileUpload mode="advanced" name="demo[]" maxFileSize="10000000" styleClass="upload-outline-light"
                    chooseIcon="pi pi-paperclip" chooseLabel="Upload Document" accept=""
                    (onSelect)="onBasicUpload($event)"></p-fileUpload>
                <small style="font-style: italic;">**Allowed File Types XLX/XLSX.</small>
            </div>
            <div class="col-4 max-h-full min-h-full flex align-items-center"
                *ngIf="moneyInTransitForm.value['fileInput'] && !isFile(moneyInTransitForm.value['fileInput'])">
                <a [href]="moneyInTransitForm.value['fileInput']" (click)="downloadFile()" class="mr-2">
                    <i class="pi pi-download mr-1" style="font-size: 1rem"></i>Download File
                </a>
                <i *ngIf="moneyInTransitForm.value['fileInput'] && this.permissions.includes('update')"  class="pi pi-trash" style="font-size: 1.5rem" (click)="deletefile($e)"></i>   
            </div>
            <div class="col-12 mt-3">
                <div class="flex justify-content-end">
                    <button class="btn btn-success mr-4" id="MoneyInTransit_Dialog_Save" type="submit"
                        *ngIf="this.permissions.includes('update')">Save</button>
                    <button class="btn btn-outline-light mt-1" type="button" id="MoneyInTransit_Dialog_Close"
                        (click)="cancel()">Close</button>
                </div>
            </div>
            <!-- <div class="col-4 text-center">
                <div class="total-premium">
                    <div class="premium">Total Premium</div>
                    <div class="price">{{totalPremium | currency:"INR"}}</div>
                  </div>
            </div> -->
        </div>
    </form>
</div>