<div class="card modal-body" *ngIf="this.permissions.includes('read')">
    <form class="" [formGroup]="fireLossOfProfitForm" (ngSubmit)="this.submitFireLossOfProfit()" #$form="ngForm">
        <div class="grid">
            <div class="col-12 md:col-6 mb-1 md:mb-2" tooltipPosition="bottom"
                pTooltip="{{fireLossOfProfitForm.controls['grossProfit'].value && this.toWords.convert((fireLossOfProfitForm.controls['grossProfit'].value ?? 0), { currency: true ,ignoreZeroCurrency: true })}}">
                <label for="" id="FireLossProfitDialog_grossProfit_label" class="form-label">Gross Profit </label>
                <!-- <input maxlength="11" pInputText id="FireLossProfitDialog_grossProfit" formControlName="grossProfit"
                    currencyMask *ngIf="this.permissions.includes('update')" [options]="{ prefix: '₹ ' , precision:0 }"
                    placeholder="" class="p-inputtext1">
                <input maxlength="11" pInputText id="FireLossProfitDialog_grossProfit" formControlName="grossProfit"
                    currencyMask *ngIf="!this.permissions.includes('update')" [options]="{ prefix: '₹ ' , precision:0 }"
                    placeholder="" class="p-inputtext1" disabled> -->

                <!-- TO GET THE COUNT OF VALUES IN RUPEES INSTEAD OF MILLIONS -->
                <p-inputNumber id="FireLossProfitDialog_grossProfit" mode="decimal" locale="en-IN" prefix="₹ "
                    [minFractionDigits]="0" placeholder="0" formControlName="grossProfit"
                    [disabled]="!this.permissions.includes('update')" maxlength="21"
                    [ngClass]="{'ng-invalid ng-dirty': $form.submitted && !fireLossOfProfitForm.controls['grossProfit'].value}">
                </p-inputNumber>

                <!-- <div *ngIf="!this.permissions.includes('update')">
                <input  *ngIf="fireLossOfProfitForm.controls['grossProfit'].value"  pInputText  formControlName="grossProfit"  class="p-inputtext1" class="p-3  " placeholder="₹ {{fireLossOfProfitForm.controls['grossProfit'].value.toLocaleString('en-IN')}}" disabled>
                <input  *ngIf="!fireLossOfProfitForm.controls['grossProfit'].value" pInputText  formControlName="grossProfit"  class="p-inputtext1" class="p-3  " placeholder="N/A" disabled>

            </div> -->

            <small style="color :brown;font-style: italic;">Range for SI is {{min}} - {{max}}</small><br>
            <small style="color :brown;font-style: italic;">NSTP Range for SI is {{minNSTP}} - {{maxNSTP}}</small>
                <small class="ng-dirty ng-invalid"
                    *ngIf="$form.submitted && fireLossOfProfitForm.controls['grossProfit']?.errors?.required">Gross
                    Profit is required.</small>
                <small class="ng-dirty ng-invalid"
                    *ngIf="$form.submitted && fireLossOfProfitForm.controls['grossProfit']?.errors?.min">Gross Profit
                    should be graeter than 1.</small>


                <!-- NO NEED OF VALIDATION AS MAXLENGTH VALIDATION APPLIED IN INPUT FIELD -->
                <!-- <small class="ng-dirty ng-invalid"
                    *ngIf="fireLossOfProfitForm.controls['grossProfit']?.errors?.max">Gross Profit is cannot be more
                    than 11 Characters.</small> -->
            </div>
            <div class="col-12 md:col-6 mb-1 md:mb-2">
                <!-- <label for="" id="FireLossProfitDialog_IndmenityPeriod_label" class="form-label">Indmenity Period</label> -->
                <label for="" id="FireLossProfitDialog_IndmenityPeriod_label" class="form-label">Indemnity
                    Period</label>
                <div class="pp-dropdown-c">
                    <p-dropdown id="FireLossProfitDialog_IndmenityPeriod" class="custom-dropdown"
                        [options]="this.optionsIndmenityPeriod" *ngIf="this.permissions.includes('update')"
                        placeholder="Select Indmenity Period" optionLabel="label" optionValue="value"
                        formControlName="indmenityPeriod"></p-dropdown>
                    <p-dropdown id="FireLossProfitDialog_IndmenityPeriod" class="custom-dropdown"
                        [options]="this.optionsIndmenityPeriod" *ngIf="!this.permissions.includes('update')"
                        [disabled]="true" placeholder="Select Indmenity Period" optionLabel="label" optionValue="value"
                        formControlName="indmenityPeriod"></p-dropdown>
                    <small class="ng-dirty ng-invalid" id="FireLossProfitDialog_IndmenityPeriod_ValidationError"
                        *ngIf="submitted && fireLossOfProfitForm.controls['indmenityPeriod']?.errors?.required">Indmenity
                        Period is required.</small>
                </div>
            </div>
            <div class="col-12 md:col-6 mb-1 md:mb-2">
                <label for="" class="form-label" id="FireLossProfitDialog_Terrorism_label">Terrorism</label>
                <div class="pp-dropdown-c">
                    <p-dropdown class="custom-dropdown" disabled="{{true}}" id="FireLossProfitDialog_Terrorism"
                        [options]="this.optionsTerrorism" placeholder="Select Terrorism" optionLabel="label"
                        optionValue="value" formControlName="terrorism"></p-dropdown>
                    <small class="ng-dirty ng-invalid" id="FireLossProfitDialog_Terrorism_ValidationError"
                        *ngIf="submitted && fireLossOfProfitForm.controls['terrorism']?.errors?.required">Terrorism is
                        required.</small>
                </div>
            </div>
            <div class="col-6"></div>
            <!-- <input maxlength="11" pInputText formControlName="auditorsFees" id="FireLossProfitDialog_Auditors_Fees"
                placeholder="" *ngIf="this.permissions.includes('update')" currencyMask
                [options]="{ prefix: '₹ ' , precision:0 }" class="p-inputtext1">
            <input maxlength="11" pInputText formControlName="auditorsFees" id="FireLossProfitDialog_Auditors_Fees"
                placeholder="" *ngIf="!this.permissions.includes('update')" disabled currencyMask
                [options]="{ prefix: '₹ ' , precision:0 }" class="p-inputtext1"> -->
            <!-- TO GET THE COUNT OF VALUES IN RUPEES INSTEAD OF MILLIONS -->
            <!-- <div class="col-12 md:col-6 mb-2" tooltipPosition="bottom"
                pTooltip="{{fireLossOfProfitForm.controls['auditorsFees'].value && this.toWords.convert((fireLossOfProfitForm.controls['auditorsFees'].value ?? 0), { currency: true ,ignoreZeroCurrency: true })}}">
                <label for="" class="form-label" id="FireLossProfitDialog_Auditors_Fees_label">Auditors Fees</label>

                <!-- TO GET THE COUNT OF VALUES IN RUPEES INSTEAD OF MILLIONS -->
                <!-- <p-inputNumber id="FireLossProfitDialog_Auditors_Fees" mode="decimal" locale="en-IN" prefix="₹ "
                    [minFractionDigits]="0" placeholder="0" formControlName="auditorsFees"
                    [disabled]="!this.permissions.includes('update')" maxlength="21"
                    [ngClass]="{'ng-invalid ng-dirty': $form.submitted && !fireLossOfProfitForm.controls['auditorsFees'].value}">
                </p-inputNumber> -->



                <!-- <input maxlength="11" pInputText formControlName="auditorsFees" id="FireLossProfitDialog_Auditors_Fees"
                    placeholder="" *ngIf="this.permissions.includes('update')" currencyMask
                    [options]="{ prefix: '₹ ' , precision:0 }" class="p-inputtext1">
                <input maxlength="11" pInputText formControlName="auditorsFees" id="FireLossProfitDialog_Auditors_Fees"
                    placeholder="" *ngIf="!this.permissions.includes('update')" disabled currencyMask
                    [options]="{ prefix: '₹ ' , precision:0 }" class="p-inputtext1"> -->
                <!-- <small class="ng-dirty ng-invalid" id="FireLossProfitDialog_Auditors_Fees_ValidationError"
                    *ngIf="$form.submitted && fireLossOfProfitForm.controls['auditorsFees']?.errors?.required">Auditors
                    Fees is required.</small>
                <small class="ng-dirty ng-invalid" id="FireLossProfitDialog_Auditors_Fees_ValidationError"
                    *ngIf="$form.submitted && fireLossOfProfitForm.controls['auditorsFees']?.errors?.min">Auditors fees
                    should be greater than 1.</small> -->
                <!-- <small class="ng-dirty ng-invalid" id="FireLossProfitDialog_Auditors_Fees_ValidationError" *ngIf="fireLossOfProfitForm.controls['auditorsFees']?.errors?.max">Auditors Fees is cannot be more than 11 Characters.</small> -->
            <div class="col-12 md:col-6 mb-1 md:mb-2"
                *ngIf="!fireLossOfProfitForm.value['fileInput'] || (fireLossOfProfitForm.value['fileInput'] && isFile(fireLossOfProfitForm.value['fileInput']))">
                <label for="" id="PortableEquipments_Dialog_SumInsured_label" class="form-label">File</label>
                <input style="display: none;" type="text" formControlName="fileInput">
                <p-fileUpload mode="advanced" name="demo[]" maxFileSize="10000000" styleClass="upload-outline-light"
                    chooseIcon="pi pi-paperclip" chooseLabel="Upload Document" #fileUpload accept=""
                    (onSelect)="onBasicUpload($event)"></p-fileUpload>
                <small style="font-style: italic;">**Allowed File Types XLX/XLSX.</small>
            </div>
            <div class="col-12 md:col-4 mb-1 md:mb-2 max-h-full min-h-full flex align-items-center" *ngIf="fireLossOfProfitForm.value['fileInput'] && !isFile(fireLossOfProfitForm.value['fileInput'])">
                <a [href]="fireLossOfProfitForm.value['fileInput']" (click)="downloadFile()" class="mr-2">
                    <i class="pi pi-download mr-1" style="font-size: 1rem"></i>Download File
                </a>
                <i *ngIf="fireLossOfProfitForm.value['fileInput'] && this.permissions.includes('update')"  class="pi pi-trash" style="font-size: 1.5rem" (click)="deletefile($e)"></i>   
            </div>
            <div class="col-12 mt-3">
                <div class="flex justify-content-end">
                    <button class="btn btn-success mr-4" id="FireLossProfitDialog_Save" type="submit"
                        *ngIf="this.permissions.includes( 'update')">Save</button>
                    <button class="btn btn-outline-light" type="button" id="FireLossProfitDialog_Close"
                        (click)="cancel()">Close</button>
                </div>
            </div>
        </div>
    </form>
</div>