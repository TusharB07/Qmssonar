<div class="card modal-body" *ngIf="this.permissions.includes('read')">
    <form class="" [formGroup]="ThirdPartyLiabilityForm" (ngSubmit)="this.submitThirdPartyLiability()" #$form="ngForm">
        <div class="grid">
            

            <div class="col-6 mb-5">
                <label for="" id="PortableEquipments_Dialog_Description_label" class="form-label">
                    Description</label>

                <input pInputText id="PortableEquipments_Dialog_Description"
                    [readonly]="!this.permissions.includes('update')" formControlName="description"
                    type="text" class="p-inputtext1" placeholder="Enter Description"
                    [ngClass]="{'ng-invalid ng-dirty': $form.submitted && ThirdPartyLiabilityForm.controls['description']?.errors}">


                <small class="ng-dirty ng-invalid" id="PortableEquipments_Dialog_Description_ValidationError"
                    *ngIf="$form.submitted && ThirdPartyLiabilityForm.controls['description']?.errors?.required">
                    Description is required.</small>
                <small class="ng-dirty ng-invalid" id="PortableEquipments_Dialog_Description_ValidationError"
                    *ngIf="ThirdPartyLiabilityForm.value['description']?.length > 255">Description
                    cannot be greater than 255 Characters.</small>
            </div>

            <div class="col-6 mb-5">
                <label for="" id="PortableEquipments_Dialog_SumInsured_label" class="form-label">Sum
                    Insured</label>

                <!-- TO GET THE COUNT OF VALUES IN RUPEES INSTEAD OF MILLIONS -->
                <p-inputNumber id="PortableEquipments_Dialog_SumInsured" mode="decimal" locale="en-IN"
                    prefix="â‚¹ " [minFractionDigits]="0" placeholder="0" formControlName="sumInsured"
                    maxlength="21" [readonly]="!this.permissions.includes('update')"
                    [ngClass]="{'ng-invalid ng-dirty':$form.submitted && ThirdPartyLiabilityForm.controls['sumInsured']?.errors}">
                </p-inputNumber>

                <!-- <small style="color :brown;font-style: italic;" id="PortableEquipments_Dialog_SumInsured_ValidationError"
                    *ngIf="form.controls['equipmentTypeId']?.value">Range for SI is {{ThirdPartyLiabilityForm.controls['equipmentTypeId']?.value?.sumMin}} - {{form.controls['equipmentTypeId']?.value?.sumMax}}</small> -->

                <!-- <small class="ng-dirty ng-invalid" id="PortableEquipments_Dialog_SumInsured_ValidationError"
                    *ngIf="$form.submitted && form.controls['sumInsured']?.errors?.required">SumInsured cannot
                    blank.</small>
                <small class="ng-dirty ng-invalid" id="PortableEquipments_Dialog_SumInsured_ValidationError"
                    *ngIf="$form.submitted && form.controls['sumInsured']?.errors?.min">SumInsured should be
                    greater than 1.</small> -->
            </div>
            <!-- <div class="col-6"></div> -->
           
            <div class="col-6 mb-5"
                *ngIf="!ThirdPartyLiabilityForm.value['fileInput'] || (ThirdPartyLiabilityForm.value['fileInput'] && isFile(ThirdPartyLiabilityForm.value['fileInput']))">
                <label for="" id="PortableEquipments_Dialog_SumInsured_label" class="form-label">File</label>
                <input style="display: none;" type="text" formControlName="fileInput">
                <p-fileUpload mode="advanced" name="demo[]" maxFileSize="10000000" styleClass="upload-outline-light"
                    chooseIcon="pi pi-paperclip" chooseLabel="Upload Document" #fileUpload accept=""
                    (onSelect)="onBasicUpload($event)"></p-fileUpload>
                <small style="font-style: italic;">**Allowed File Types XLX/XLSX.</small>
            </div> 
            <div class="col-4 max-h-full min-h-full flex align-items-center" *ngIf="ThirdPartyLiabilityForm.value['fileInput'] && !isFile(ThirdPartyLiabilityForm.value['fileInput'])">
                <a (click)="downloadFile()" class="mr-2">
                    <i class="pi pi-download mr-1" style="font-size: 1rem"></i>Download File
                </a>
                <i *ngIf="ThirdPartyLiabilityForm.value['fileInput'] && this.permissions.includes('update')"  class="pi pi-trash" style="font-size: 1.5rem" (click)="deletefile($e)"></i>   
            </div>

            <div class="col-12">
                <div class="flex justify-content-end">
                    <button class="btn btn-success mr-4" id="FireLossProfitDialog_Save" type="submit"
                        *ngIf="this.permissions.includes( 'update')">Save</button>
                    <button class="btn btn-outline-light" type="button" id="FireLossProfitDialog_Close"
                        (click)="cancel()">Close</button>
                </div>
            </div>
        </div>
    </form>
</div>