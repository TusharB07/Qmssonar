<div *ngIf="!isMobile"style="height: 100vh; display: flex; flex-direction: column;">
    <p-toast key="error" position="top-center" [baseZIndex]="5000" [preventOpenDuplicates]="true">
        <ng-template let-message pTemplate="message">
            <div class="flex flex-column" style="flex: 1" id="Login_Summary">
                {{message.summary}}
                <div [innerHTML]="message.detail" id="Login_MessageDetails"></div>
            </div>
        </ng-template>
    </p-toast>

    <div class="login-body" style="flex: 1; display: flex; flex-direction: column;">
        <div class="grid" style="flex: 1;">
            
            <div class="col-12" style="background-color: #9aaefa77;">
                <div class="left-container">
                    <div class="grid" data-aos="fade-right">
                        <div class="col" style="width: 460px; ">
                            <p-card class="sign-in-container-wrap custom-height" >
                                <div class="">
                                    <div class="grid">
                                        <div class="col-12 pt-6">
                                            <div class="sign-in-head text-center">
                                                <a href="javascript:void(0)" class="logo">
                                                    <img src="./../assets/TATA_Logo2.png" id="AppTopBar_InxImage" style="height:56px !important">
                                                </a>
                                                <p *ngIf="!isOTPGenerated" id="Login_SignIn">Sign in to your account</p>
                                                <p *ngIf="isOTPGenerated" id="Login_SignIn">An OTP has been sent on
                                                    {{hiddenEmail}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="!isOTPGenerated && !this.isLokton">
                                        <p class="font-bold mb-1">Select User Type</p>
                                        <div class="flex justify-content-start mb-3">
                                            <div class="flex align-items-center mr-7">
                                                <p-radioButton class="mr-2" name="user" value="intermediary"
                                                    [(ngModel)]="userType" inputId="type1"
                                                    (onClick)="dropdownOptions('intermediary')"></p-radioButton>
                                                <label for="type1">Intermediary</label>
                                            </div>
                                            <div *ngIf="!this.isLokton" class="flex align-items-center mr-7">
                                                <p-radioButton class="mr-2" name="user" value="insurance"
                                                    [(ngModel)]="userType" inputId="type2"
                                                    (onClick)="dropdownOptions('insurance')"></p-radioButton>
                                                <label for="type2">Insurance Company</label>
                                            </div>
                                            <div class="flex align-items-center">
                                                <p-radioButton class="mr-2" name="user" value="other" [(ngModel)]="userType"
                                                    inputId="type3" (onClick)="dropdownOptions('other')"></p-radioButton>
                                                <label for="type3">Other Role</label>
                                            </div>
                                        </div>
                                        <p-dropdown [options]="userOptions" [(ngModel)]="selectedUser" placeholder="Select"
                                            optionLabel="label" optionValue="value"></p-dropdown>
                                    </div>

                                    <form *ngIf="!isOTPGenerated && !isLoginWithMobile" class="mt-4 pb-6 p-md-5 form-style1"
                                        id="Login_Form" style="width: 360px" [formGroup]="this.loginForm"
                                        (ngSubmit)="submitted = true; this.isLokton ? this.onSubmitWithoutType() : this.onSubmit()">
                                        <!-- <div class="grid">
                                            <div class="col-12">
                                                <div class="sign-in-head text-center">
                                                    <h2 class="head2" id="Login_Header">Hello!</h2>
                                                    <p id="Login_SignIn">Sign in to your account</p>
                                                </div>
                                            </div>
                                        </div> -->
                                        <div class="input-container-row mb-4">
                                            <div class="">
                                                <!-- <i class="email"></i> -->
                                                <label for="Login_Email" class="font-bold">Email Address</label>
                                                <input formControlName="email" id="Login_Email" type="text"  maxlength="64"
                                                    autocomplete="off" class="form-control emailInput mt-2" pInputText
                                                    placeholder="E-mail/IMD Code" />
                                            </div>
                                            <small class="ng-dirty ng-invalid"
                                                *ngIf="submitted && loginForm.controls['email']?.errors?.required">Email
                                                is required</small>
                                            <small id="CreateClient_Name_ValidationError2"
                                                *ngIf="this.loginForm.controls['email'].errors?.['invalidEmail']"
                                                class="ng-invalid">Invalid Email.</small>
                                        </div>
                                        <div class="input-container-row mb-1">
                                            <div class="">
                                                <!-- <i class="password"></i> -->
                                                <span class="p-input-icon-right w-full h-4rem">
                                                    <i *ngIf="!confirmShow" class="pi pi-eye"
                                                        (click)="toggleConfimrShow()"></i>
                                                    <i *ngIf="confirmShow" class="pi pi-eye-slash"
                                                        (click)="toggleConfimrShow()"></i>
                                                    <label for="passwordField" class="font-bold">Password </label>
                                                    <input [type]="confirmShow ? 'text' : 'password'"
                                                        id="passwordField" pInputText
                                                        formControlName="password" autofocus autocomplete="off"
                                                        class="form-control h-full w-full mt-2" placeholder="Password" (keyup)="checkCapsLock($event)">
                                                </span>
                                                <!-- <input formControlName="password" id="Login_Password" type="password" autocomplete="off" class="form-control" placeholder="Password" pInputText /> -->
                                            </div>
                                            <small id="text" class="ng-dirty ng-invalid" style="display: none;">Caps Lock is on</small>
                                            <small class="ng-dirty ng-invalid"
                                                *ngIf="submitted && loginForm.controls['password']?.errors?.required">Password
                                                is required.</small>
                                            <small class="ng-dirty ng-invalid"
                                                *ngIf="submitted && loginForm.controls['password']?.errors?.maxlength">Password
                                                cannot be more than 15 Characters.</small>
                                        </div>
                                        <!-- <div class="input-container-row mb-1">
                                            <div class="">
                                                <label for="Login_Password" class="font-bold">Password</label>
                                                <input formControlName="password" id="Login_Password" type="password"
                                                    autocomplete="off" class="form-control mt-2" placeholder="Password"
                                                    pInputText />
                                            </div>
                                            <small class="ng-dirty ng-invalid"
                                                *ngIf="submitted && loginForm.controls['password']?.errors?.required">Password
                                                is required.</small>
                                            <small class="ng-dirty ng-invalid"
                                                *ngIf="submitted && loginForm.controls['password']?.errors?.maxlength">Password
                                                cannot be more than 15 Characters.</small>
                                        </div> -->
                                        <div class="btn-div mt-3 flex justify-content-end">
                                            <a href="javascript:void(0)" (click)="navigateToForgotPass()"
                                                id="AppLogin_ForgotPassword">Forgot password?</a>
                                        </div>
                                        <div class="btn-div mb-2">
                                            <button class="w-full mb-2 h-3rem font-bold" pButton pRipple type="submit"
                                                id="Login_Submit" label="Login" [loading]="loading"
                                                style="background: #2156c2; border-color: #2156c2;"></button>
                                            <!-- <button pButton pRipple type="button" label="Login with Mobile No."
                                                (click)="navigatetoLoginWithMobile()"
                                                class="p-button-outlined w-full h-3rem font-bold"
                                                style="color: #2156c2; border-color: #2156c2;"></button> -->
                                        </div>
                                        <div class="account-signup" id="Login_SignUp">
                                            Don't have an account? <a class="signup-txt">Contact Us</a>
                                        </div>
                                    </form>

                                    <form *ngIf="!isOTPGenerated && isLoginWithMobile && !isLoginWithEmailOtp" class="mt-4 pb-6 p-md-5 form-style1"
                                        id="Login_Form" style="width: 360px" [formGroup]="this.loginOTPForm"
                                        (ngSubmit)="submitted1 = true;this.generateOTP()">
                                        <div class="input-container-row mb-4">
                                            <div class="">
                                                <!-- <i class="email"></i> -->
                                                <label for="Login_Email" class="font-bold">Mobile Number</label>
                                                <div class="p-inputgroup">
                                                    <span class="p-inputgroup-addon">+91</span>
                                                    <input type="text" placeholder="Mobile Number*" pInputText
                                                        formControlName="mobile" />
                                                </div>
                                            </div>
                                            <small class="ng-dirty ng-invalid"
                                                *ngIf="submitted1 && loginOTPForm.controls['mobile']?.errors?.required">Mobile
                                                is required</small>
                                            <small class="ng-dirty ng-invalid"
                                                *ngIf="loginOTPForm.controls['mobile']?.errors?.invalidNumber">Mobile Number
                                                is not valid</small>
                                        </div>
                                        <div class="btn-div mb-2">
                                            <button class="w-full mb-2 h-3rem font-bold" pButton pRipple type="submit"
                                                id="Login_Submit" label="Send OTP" [loading]="loading"
                                                style="background: #2156c2; border-color: #2156c2;"></button>
                                            <button pButton pRipple type="button" label="Login with Password"
                                                (click)="navigatetoLoginWithPassword()"
                                                class="p-button-outlined w-full h-3rem font-bold"
                                                style="color: #2156c2; border-color: #2156c2;"></button>
                                        </div>
                                        <div class="account-signup" id="Login_SignUp">
                                            Don't have an account? <a class="signup-txt">Contact Us</a>
                                        </div>
                                    </form>


                                    <!-- <form *ngIf="!isOTPGenerated && isLoginWithMobile && isLoginWithEmailOtp" class="mt-4 pb-6 p-md-5 form-style1"
                                        id="Login_Form" style="width: 360px" [formGroup]="this.loginOTPForm"
                                        (ngSubmit)="submitted2 = true;this.generateEmailOTP()">
                                        <div class="input-container-row mb-4">
                                            <div class="">
                                                <label for="Login_Email" class="font-bold">Email</label>
                                                <div>
                                                    <input type="text" pInputText
                                                        formControlName="emailOtp" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="btn-div mb-2">
                                            <button class="w-full mb-2 h-3rem font-bold" pButton pRipple type="submit"
                                                id="Login_Submit" label="Send OTP" [loading]="loading"
                                                style="background: #2156c2; border-color: #2156c2;"></button>
                                        </div>
                                    </form> -->



                                    <form *ngIf="isOTPGenerated" class="mt-4 pb-6 p-md-5 form-style1" id="Login_Form"
                                        style="width: 360px" [formGroup]="this.otpForm" (ngSubmit)="this.verifyOTP()">
                                        <!-- <div class="grid">
                                            <div class="col-12">
                                                <div class="sign-in-head text-center">
                                                    <h2 class="head2" id="Login_Header">Hello!</h2>
                                                    <p id="Login_SignIn">An OTP has been sent on {{hiddenEmail}}</p>
                                                </div>
                                            </div>
                                        </div> -->
                                        <div class="mb-2">
                                            <a href="javascript:void(0)" (click)="backToMobile()">
                                                <i class="pi pi-angle-left"></i> Back
                                            </a>
                                        </div>
                                        <div>
                                            <label class="font-bold">Enter OTP</label>
                                        </div>
                                        <div class="row mb-3">
                                            <div class="flex justify-content-between">
                                                <div class="col-3">
                                                    <input pInputText type="text" #otp1 id="ChooseVerifierOTP_OTPInput1"
                                                        formControlName="otp1" class="p-inputtext1 text-center"
                                                        maxlength="1" (keyup)="move($event, '', otp1, otp2)">
                                                </div>
                                                <div class="col-3">
                                                    <input pInputText type="text" #otp2 id="ChooseVerifierOTP_OTPInput2"
                                                        formControlName="otp2" class="p-inputtext1 text-center"
                                                        maxlength="1" (keyup)="move($event, otp1, otp2, otp3)">
                                                </div>
                                                <div class="col-3">
                                                    <input pInputText type="text" #otp3 id="ChooseVerifierOTP_OTPInput3"
                                                        formControlName="otp3" class="p-inputtext1 text-center"
                                                        maxlength="1" (keyup)="move($event, otp2, otp3, otp4)">
                                                </div>
                                                <div class="col-3">
                                                    <input pInputText type="text" #otp4 id="ChooseVerifierOTP_OTPInput4"
                                                        formControlName="otp4" class="p-inputtext1 text-center"
                                                        maxlength="1" (keyup)="move($event, otp3, otp4, '')">
                                                </div>
                                            </div>
                                            <div class="row mb-3">
                                                <p style="color: rgb(0, 0, 0);text-decoration: none; font-size: 14px;"
                                                    *ngIf="!OTPSent">
                                                    <a href="javascript:void(0)" (click)="resendOTP()" style="color:black">
                                                        <i class="pi pi-refresh mr-1"></i>Resend OTP
                                                    </a>
                                                </p>
                                                <p style="font-size: 14px;" class="" *ngIf="OTPSent">
                                                    Resend in: {{display}}
                                                </p>
                                            </div>
                                            <div class="btn-div mb-2">
                                                <button class="w-full h-3rem font-bold" pButton pRipple type="submit"
                                                    id="Login_Submit" label="Confirm & Sign In" [loading]="loading"
                                                    style="background: #2156c2; border-color: #2156c2;"></button>
                                                    <p style="font-size: 15px;">OTP is valid for only 5 minutes.</p>
                                            </div>
                                            <div class="account-signup" id="Login_SignUp">
                                                Don't have an account? <a class="signup-txt">Contact Us</a>
                                            </div>
                                        </div>
                                    </form>

                                </div>
                            </p-card>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- <div class="grid">
            <div class="login-footer flex align-items-center col-12">
                <div class="flex align-items-center login-footer-logo-container">
                    <img src="assets/layout/images/logo-gray.png" class="login-footer-logo" />
                </div>
                <span>Copyright 2021</span>
            </div>
        </div> -->



        <!-- <div class="login-image">
            <img [src]="'assets/layout/images/pages/login-'+ (app.colorScheme === 'dark' ? 'ondark' : 'onlight') + '.png'" alt="inexchange">
        </div> -->

    </div>


</div>





<div  *ngIf="isMobile" class="sign-in-slider min-h-screen align-items-center " style="display: block;">
    <p-toast key="error" [baseZIndex]="5000" [preventOpenDuplicates]="true">
        <ng-template let-message pTemplate="message">
            <div class="flex flex-column" style="flex: 1" id="Login_Summary">
                {{message.summary}}
                <div [innerHTML]="message.detail" id="Login_MessageDetails"></div>
            </div>
        </ng-template>
    </p-toast>
    <div class="grid" style="padding: unset; margin: unset;">
        <div class="col-12" style="padding: unset; margin: unset;">
            <div class="layout-topbar h-5rem  flex justify-content-center" style="border-radius: unset;">
                <div class="layout-topbar-left">
                    <a href="javascript:void(0)" class="">
                        <img src="./../assets/TATA_Logo2.png" id="AppTopBar_InxImage">
                    </a>
                </div>
            </div>
        </div>
        <div class="col-12 mt-3">
            <p-card [style]="{'box-shadow':'none'}">
                <div class="flex justify-content-center">
                    <img [src]="'assets/layout/images/pages/login.png'" height="180px" alt="inexchange"
                        id="Login_LoginImage">
                </div>
                <div class="sign-in-head text-center">
                    <h1 class="mt-2" id="Login_Header">Hello!</h1>
                    <p *ngIf="!isOTPGenerated" id="Login_SignIn">Sign in to your account</p>
                    <p *ngIf="isOTPGenerated" id="Login_SignIn">An OTP has been sent on
                        {{hiddenEmail}}</p>
                </div>
                <div>
                    <div *ngIf="!isOTPGenerated">
                        <p class="font-bold mb-1">Select User Type</p>
                        <div class="flex justify-content-start mb-3">
                            <div class="flex align-items-center mr-7">
                                <p-radioButton class="mr-2" name="user" value="intermediary"
                                    [(ngModel)]="userType" inputId="type1"
                                    (onClick)="dropdownOptions()"></p-radioButton>
                                <label for="type1">Intermediary</label>
                            </div>
                            <div *ngIf="!this.isLokton" class="flex align-items-center mr-7">
                                <p-radioButton class="mr-2" name="user" value="insurance"
                                    [(ngModel)]="userType" inputId="type2"
                                    (onClick)="dropdownOptions()"></p-radioButton>
                                <label for="type2">Insurance Company</label>
                            </div>
                            <div class="flex align-items-center">
                                <p-radioButton class="mr-2" name="user" value="other" [(ngModel)]="userType"
                                    inputId="type3" (onClick)="dropdownOptions()"></p-radioButton>
                                <label for="type3">Other Role</label>
                            </div>
                        </div>
                        <p-dropdown [options]="userOptions" [(ngModel)]="selectedUser" placeholder="Select"
                            optionLabel="label" optionValue="value"></p-dropdown>
                    </div>
                    <form *ngIf="!isOTPGenerated && !isLoginWithMobile" class="mt-4 pb-6 p-md-5 form-style1"
                        id="Login_Form" [formGroup]="this.loginForm"
                        (ngSubmit)="submitted = true;this.onSubmit()">
                        <div class="input-container-row mb-4">
                            <div class="">
                                <label for="Login_Email" class="font-bold">Email Address</label>
                                <input formControlName="email" id="Login_Email" type="email"
                                    autocomplete="off" class="form-control emailInput mt-2" pInputText
                                    placeholder="name@example.com" />
                            </div>
                            <div class="ng-dirty ng-invalid"
                                *ngIf="submitted && loginForm.controls['email']?.errors?.required">Email
                                is required</div>
                            <small id="CreateClient_Name_ValidationError2"
                                *ngIf="this.loginForm.controls['email'].errors?.['invalidEmail']"
                                class="ng-invalid">Invalid Email.</small>
                        </div>
                        <div class="input-container-row mb-1">
                            <label for="Login_Email" class="font-bold">Password</label>
                            <div class="mt-2">
                                <span class="p-input-icon-right w-full h-4rem">
                                    <i *ngIf="!confirmShow" class="pi pi-eye"
                                        (click)="toggleConfimrShow()"></i>
                                    <i *ngIf="confirmShow" class="pi pi-eye-slash"
                                        (click)="toggleConfimrShow()"></i>
                                    <input [type]="confirmShow ? 'text' : 'password'"
                                        id="passwordField" pInputText
                                        formControlName="password" autofocus autocomplete="off"
                                        class="form-control h-full w-full" placeholder="Password" (keyup)="checkCapsLock($event)">
                                </span>
                            </div>
                            <small id="text" class="ng-dirty ng-invalid" style="display: none;">Caps Lock is on</small>
                            <small class="ng-dirty ng-invalid"
                                *ngIf="submitted && loginForm.controls['password']?.errors?.required">Password
                                is required.</small>
                            <small class="ng-dirty ng-invalid"
                                *ngIf="submitted && loginForm.controls['password']?.errors?.maxlength">Password
                                cannot be more than 15 Characters.</small>
                        </div>
                        <div class="btn-div  mb-1 flex justify-content-end">
                            <a href="javascript:void(0)" (click)="navigateToForgotPass()"
                                id="AppLogin_ForgotPassword">Forgot password?</a>
                        </div>
                        <div class="btn-div mb-2">
                            <button class="w-full mb-2 h-3rem font-bold" pButton pRipple type="submit"
                                id="Login_Submit" label="Login" [loading]="loading"
                                style="background: #2156c2; border-color: #2156c2;"></button>
                            <button pButton pRipple type="button" label="Login with Mobile No."
                                (click)="navigatetoLoginWithMobile()"
                                class="p-button-outlined w-full h-3rem font-bold"
                                style="color: #2156c2; border-color: #2156c2;"></button>
                        </div>
                        <div class="account-signup" id="Login_SignUp">
                            Don't have an account? <a class="signup-txt">Contact Us</a>
                        </div>
                    </form>

                    <form *ngIf="!isOTPGenerated && isLoginWithMobile" class="mt-4 pb-6 p-md-5 form-style1"
                        id="Login_Form" [formGroup]="this.loginOTPForm"
                        (ngSubmit)="submitted1 = true;this.generateOTP()">
                        <div class="input-container-row mb-4">
                            <div class="">
                                <label for="Login_Email" class="font-bold">Mobile Number</label>
                                <div class="p-inputgroup">
                                    <span class="p-inputgroup-addon">+91</span>
                                    <input type="text" placeholder="Mobile Number*" pInputText
                                        formControlName="mobile" />
                                </div>
                            </div>
                            <small class="ng-dirty ng-invalid"
                                *ngIf="submitted1 && loginOTPForm.controls['mobile']?.errors?.required">Mobile
                                is required</small>
                            <small class="ng-dirty ng-invalid"
                                *ngIf="loginOTPForm.controls['mobile']?.errors?.invalidNumber">Mobile Number
                                is not valid</small>
                        </div>
                        <div class="btn-div mb-2">
                            <button class="w-full mb-2 h-3rem font-bold" pButton pRipple type="submit"
                                id="Login_Submit" label="Send OTP" [loading]="loading"
                                style="background: #2156c2; border-color: #2156c2;"></button>
                            <button pButton pRipple type="button" label="Login with Password"
                                (click)="navigatetoLoginWithPassword()"
                                class="p-button-outlined w-full h-3rem font-bold"
                                style="color: #2156c2; border-color: #2156c2;"></button>
                        </div>
                        <div class="account-signup" id="Login_SignUp">
                            Don't have an account? <a class="signup-txt">Contact Us</a>
                        </div>
                    </form>

                    <form *ngIf="isOTPGenerated" class="mt-4 pb-6 p-md-5 form-style1" id="Login_Form"
                        [formGroup]="this.otpForm" (ngSubmit)="this.verifyOTP()">
                        <div class="mb-2">
                            <a href="javascript:void(0)" (click)="backToMobile()">
                                <i class="pi pi-angle-left"></i> Back
                            </a>
                        </div>
                        <div>
                            <label class="font-bold">Enter OTP</label>
                        </div>
                        <div class="row mb-3">
                            <div class="flex justify-content-between">
                                <div class="col-3">
                                    <input pInputText type="text" #otp1 id="ChooseVerifierOTP_OTPInput1"
                                        formControlName="otp1" class="p-inputtext1 text-center"
                                        maxlength="1" (keyup)="move($event, '', otp1, otp2)">
                                </div>
                                <div class="col-3">
                                    <input pInputText type="text" #otp2 id="ChooseVerifierOTP_OTPInput2"
                                        formControlName="otp2" class="p-inputtext1 text-center"
                                        maxlength="1" (keyup)="move($event, otp1, otp2, otp3)">
                                </div>
                                <div class="col-3">
                                    <input pInputText type="text" #otp3 id="ChooseVerifierOTP_OTPInput3"
                                        formControlName="otp3" class="p-inputtext1 text-center"
                                        maxlength="1" (keyup)="move($event, otp2, otp3, otp4)">
                                </div>
                                <div class="col-3">
                                    <input pInputText type="text" #otp4 id="ChooseVerifierOTP_OTPInput4"
                                        formControlName="otp4" class="p-inputtext1 text-center"
                                        maxlength="1" (keyup)="move($event, otp3, otp4, '')">
                                </div>
                            </div>
                            <div class="row mb-3">
                                <p style="color: rgb(0, 0, 0);text-decoration: none; font-size: 14px;"
                                    *ngIf="!OTPSent">
                                    <a href="javascript:void(0)" (click)="resendOTP()" style="color:black">
                                        <i class="pi pi-refresh mr-1"></i>Resend OTP
                                    </a>
                                </p>
                                <p style="font-size: 14px;" class="" *ngIf="OTPSent">
                                    Resend in: {{display}}
                                </p>
                            </div>
                            <div class="btn-div mb-2">
                                <button class="w-full h-3rem font-bold" pButton pRipple type="submit"
                                    id="Login_Submit" label="Confirm & Sign In" [loading]="loading"
                                    style="background: #2156c2; border-color: #2156c2;"></button>
                            </div>
                            <div class="account-signup" id="Login_SignUp">
                                Don't have an account? <a class="signup-txt">Contact Us</a>
                            </div>
                        </div>
                    </form>


                </div>
            </p-card>
        </div>
    </div>
</div>